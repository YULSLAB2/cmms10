<!DOCTYPE html>
<!--
패키지: com.cmms10.workPermit
파일: workPermitDetail.html
주요기능: 작업허가서 상세정보 출력 및 프린트 폼
생성자: (로그인 이름 입력)
생성일: (생성일 입력)
-->
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>작업허가서 상세</title>
</head>

<body>
    <div layout:fragment="content">

        <h2 class="text-2xl font-bold" th:text="#{workpermitDetail}">작업허가서 상세</h2>

        <!-- Basic Information -->
        <div class="border rounded-lg shadow p-4 space-y-4">
            <h3 class="font-semibold text-lg mb-2" th:text="#{basicInformation}">기본 정보</h3>
            <div class="grid grid-cols-12 gap-4">
                <div class="col-span-3">
                    <label class="block text-sm font-medium mb-1" th:text="#{permitId}">Permit ID</label>
                    <div th:text="${workpermit.permitId}"></div>
                </div>
                <div class="col-span-3">
                    <label class="block text-sm font-medium mb-1" th:text="#{plantId}">Plant ID</label>
                    <div th:text="${workpermit.plantId}"></div>
                </div>
                <div class="col-span-2">
                    <label class="block text-sm font-medium mb-1" th:text="#{permitType}">Permit Type</label>
                    <div th:text="${workpermit.permitType}"></div>
                </div>
                <div class="col-span-2">
                    <label class="block text-sm font-medium mb-1" th:text="#{siteId}">Site</label>
                    <div th:text="${workpermit.siteId}"></div>
                </div>
                <div class="col-span-2">
                    <label class="block text-sm font-medium mb-1" th:text="#{deptId}">Dept</label>
                    <div th:text="${workpermit.deptId}"></div>
                </div>
            </div>
            <div>
                <label class="block text-sm font-medium mb-1" th:text="#{permitName}">Permit Name</label>
                <div th:text="${workpermit.permitName}"></div>
            </div>
        </div>
        <!-- Permit Period -->
        <div class="border rounded-lg shadow p-4 space-y-4">
            <h3 class="font-semibold text-lg mb-2" th:text="#{permitPeriod}">Permit Period</h3>
            <div class="grid grid-cols-12 gap-4">
                <div class="col-span-3">
                    <label class="block text-sm font-medium mb-1" th:text="#{startDate}">Start Date</label>
                    <div th:text="${workpermit.startDate}"></div>
                </div>
                <div class="col-span-3">
                    <label class="block text-sm font-medium mb-1" th:text="#{endDate}">End Date</label>
                    <div th:text="${workpermit.endDate}"></div>
                </div>
            </div>
        </div>
        <!-- Permit Description -->
        <div class="border rounded-lg shadow p-4 space-y-4">
            <h3 class="font-semibold text-lg mb-2" th:text="#{permitDescription}">Permit Description</h3>
            <div class="grid grid-cols-12 gap-4">
                <div class="col-span-3">
                    <label class="block text-sm font-medium mb-1" th:text="#{workDesc}">Work Description</label>
                    <div th:text="${workpermit.workDesc}"></div>
                </div>
            </div>
            <div>
                <label class="block text-sm font-medium mb-1" th:text="#{hazardNote}">Hazard Note</label>
                <div th:text="${workpermit.hazardNote}"></div>
            </div>
        </div>
        <!-- Permit Safety Measures -->
        <div class="border rounded-lg shadow p-4 space-y-4">
            <h3 class="font-semibold text-lg mb-2" th:text="#{safetyMeasures}">Permit Safety Measures</h3>
            <div class="grid grid-cols-12 gap-4">
                <div>
                    <label class="block text-sm font-medium mb-1" th:text="#{safetyMeasure}">Safety
                        Measure</label>
                    <div th:text="${workpermit.safetyMeasure}"></div>
                </div>
            </div>

            <!-- Permit Signatures items-->
            <div class="border rounded-lg shadow p-4 space-y-4">
                <h3 class="font-semibold text-lg mb-2" th:text="#{signature}">Permit Signatures</h3>
                <table class="w-full">
                    <thead>
                        <tr>
                            <th>Signer Name</th>
                            <th>Signature</th>
                        </tr>
                    </thead>
                    <tbody id="itemTableBody">
                        <tr th:each="item : ${workpermit.items}">
                            <td th:text="${item.signerName}"></td>
                            <td>
                                <!-- 서명 이미지를 base64로 저장했다면 -->
                                <img th:if="${item.signature != null}"
                                    th:src="'data:image/png;base64,' + ${item.signature}" width="150" />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>


</body>

</html>
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/defaultLayout}">
<head>
    <title>Inspection Detail</title>
</head>
<body>
<div layout:fragment="content">
    <div class="max-w-4xl mx-auto mt-8 space-y-6 print:p-4">

        <div class="flex justify-between items-center">
            <h2 class="text-2xl font-bold" th:text="#{inspection.detail.header}">Inspection Detail</h2>
            <button type="button" onclick="window.print()"
                    class="px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 print:hidden">
                <i class="fas fa-print mr-1"></i> Print
            </button>
        </div>

        <!-- 기본정보 -->
        <div class="border rounded-lg shadow p-4 space-y-3">
            <h3 class="font-semibold text-lg mb-2">Basic Information</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <span class="font-medium">ID:</span>
                    <span th:text="${inspection.inspectionId}"></span>
                </div>
                <div>
                    <span class="font-medium">Inspection Name:</span>
                    <span th:text="${inspection.inspectionName}"></span>
                </div>
                <div>
                    <span class="font-medium">Plant:</span>
                    <span th:text="${inspection.plantId}"></span>
                </div>
                <div>
                    <span class="font-medium">Job Type:</span>
                    <span th:text="${inspection.jobType}"></span>
                </div>
                <div>
                    <span class="font-medium">Dept:</span>
                    <span th:text="${inspection.dept}"></span>
                </div>
                <div class="md:col-span-2">
                    <span class="font-medium">Note:</span>
                    <span th:text="${inspection.note}"></span>
                </div>
            </div>
        </div>

        <!-- 점검항목 -->
        <div class="border rounded-lg shadow p-4 space-y-3">
            <h3 class="font-semibold text-lg mb-2">Inspection Items</h3>
            <div class="overflow-x-auto">
                <table class="min-w-full text-sm border">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="px-4 py-2 border">Item Name</th>
                            <th class="px-4 py-2 border">Lower</th>
                            <th class="px-4 py-2 border">Upper</th>
                            <th class="px-4 py-2 border">Standard</th>
                            <th class="px-4 py-2 border">Result</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="item : ${inspection.items}">
                            <td class="px-4 py-2 border" th:text="${item.itemName}"></td>
                            <td class="px-4 py-2 border" th:text="${item.itemLower}"></td>
                            <td class="px-4 py-2 border" th:text="${item.itemUpper}"></td>
                            <td class="px-4 py-2 border" th:text="${item.itemStandard}"></td>
                            <td class="px-4 py-2 border" th:text="${item.itemResult}"></td>
                        </tr>
                        <tr th:if="${#lists.isEmpty(inspection.items)}">
                            <td colspan="5" class="text-center px-4 py-2 border">No items registered.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="flex justify-end gap-3 print:hidden">
            <a th:href="@{/inspection/inspectionList(companyId=${inspection.companyId},siteId=${inspection.siteId})}"
               class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
               Back to List
            </a>
        </div>

    </div>
</div>
</body>
</html>
